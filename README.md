# 기후 위기 스토리보드 작성 도구

중학교 3학년 학생들이 GPT를 활용하여 기후 위기 관련 스토리보드를 작성할 수 있는 도구입니다. 학생들이 AI와 대화하며 창의적인 스토리보드를 개발하고, 교사는 관리자 기능을 통해 학생들의 작업을 모니터링할 수 있습니다.

## 주요 기능

- **학생 인터페이스**: 쉽고 직관적인 채팅 인터페이스로 GPT와 대화하며 스토리보드 작성
- **피드백 기능**: 스토리보드에 대한 구체적인 피드백 요청 가능
- **학생 데이터 저장**: 학생 정보, 대화 내용, 피드백을 자동으로 저장
- **관리자 대시보드**: 교사가 학생들의 진행 상황을 확인하고 평가할 수 있는 대시보드

## 설치 방법

1. **저장소 복제**:
   ```bash
   git clone https://github.com/yourusername/climate-storyboard-tool.git
   cd climate-storyboard-tool
   ```

2. **가상환경 생성 및 활성화**:
   ```bash
   # Windows
   python -m venv venv
   venv\Scripts\activate
   
   # macOS/Linux
   python -m venv venv
   source venv/bin/activate
   ```

3. **필요한 패키지 설치**:
   ```bash
   pip install -r requirements.txt
   ```

4. **OpenAI API 키 설정**:
   - **환경변수 방식**:
     ```bash
     # Windows
     set OPENAI_API_KEY=your-api-key-here
     
     # macOS/Linux
     export OPENAI_API_KEY=your-api-key-here
     ```
   - **Secrets 파일 방식**:
     - `.streamlit` 폴더 생성
     - `.streamlit/secrets.toml` 파일 생성 후 다음 내용 추가:
       ```toml
       OPENAI_API_KEY = "your-api-key-here"
       ```

## 사용 방법

1. **앱 실행**:
   ```bash
   streamlit run app.py
   ```

2. **학생 인터페이스 접속**:
   - 웹 브라우저에서 `http://localhost:8501` 접속
   - 이름과 학번 입력 후 스토리보드 작성 시작
   - 사이드바의 가이드를 참고하여 효과적인 프롬프트 작성
   - 작업 완료 후 "내 스토리보드 피드백 받기" 버튼 클릭

3. **관리자 대시보드 접속**:
   - 웹 브라우저에서 `http://localhost:8501/?admin=true` 접속
   - 학생 목록, 대화 내용, 데이터 분석 탭을 통해 진행 상황 확인
   - 학생별 예상 등급 및 데이터 분석 확인
   - CSV/JSON 형식으로 데이터 다운로드 가능

## 프로젝트 구조

```
climate-storyboard-tool/
│
├── app.py                 # 메인 애플리케이션 파일
├── requirements.txt       # 필요한 패키지 목록
├── .gitignore             # Git 무시 파일 목록
│
├── data/                  # 데이터 저장 디렉토리
│   ├── students.json      # 학생 정보
│   └── conversations/     # 학생별 대화 내용
│
└── .streamlit/            # Streamlit 설정 (Git에 포함되지 않음)
    └── secrets.toml       # API 키 등 비밀 정보
```

## 수행평가 평가 기준

### 스토리보드 평가 (40점)
- **A등급 (40점)**: 5개 이상의 효과적인 프롬프트를 작성하면서 기존의 문제점을 정확하게 파악하고 체계적으로 개선함
- **B등급 (35점)**: 4개의 효과적인 프롬프트를 작성하면서 기존의 문제점을 정확하게 파악하고 체계적으로 개선함
- **C등급 (30점)**: 3개의 효과적인 프롬프트를 작성하면서 문제점 파악과 개선이 대체적으로 체계적
- **D등급 (25점)**: 2개의 기본적인 프롬프트를 작성
- **E등급 (20점)**: 1개의 단순한 프롬프트만 사용

### 발표 평가 (20점)
- **A등급 (20점)**: 핵심 메시지를 기후 위기와 관련지어 명확하게 발표
- **B등급 (15점)**: 핵심 메시지를 기후 위기와 관련지었지만 명확하게 전달되지 않음
- **C등급 (10점)**: 핵심 메시지를 기후 위기와 관련짓지 않고 발표

## 외부 네트워크 접속 설정

학교 내에서 여러 학생이 동시에 접속할 수 있도록 설정하려면:

```bash
streamlit run app.py --server.address=0.0.0.0 --server.port=8501
```

이후 호스트 컴퓨터의 IP 주소(예: 192.168.1.100:8501)를 통해 다른 컴퓨터에서 접속 가능합니다.

## 주의사항

1. **API 키 보안**: API 키를 공개 저장소에 올리지 않도록 주의하세요.
2. **데이터 백업**: `data` 폴더의 내용을 정기적으로 백업하세요.
3. **동시 접속**: 다수의 학생이 동시에 접속할 경우 API 요청 제한에 도달할 수 있습니다.
4. **네트워크 설정**: 학교 네트워크에서 사용 시 방화벽 설정을 확인하세요.

## 문제 해결

- **API 키 오류**: 환경변수 또는 secrets.toml 파일에 API 키가 올바르게 설정되었는지 확인하세요.
- **패키지 오류**: `pip install -r requirements.txt`를 다시 실행하여 모든 필요한 패키지가 설치되었는지 확인하세요.
- **저장 오류**: `data` 폴더에 쓰기 권한이 있는지 확인하세요.

## 추가 정보

- 이 도구는 OpenAI의 GPT 모델을 사용합니다.
- 기본적으로 GPT-3.5-turbo 모델을 사용하며, 피드백 기능에는 GPT-4o 모델을 사용합니다.
- 학생 데이터는 로컬에 저장되며, 필요에 따라 외부 데이터베이스로 확장할 수 있습니다.

## 라이선스

이 프로젝트는 MIT 라이선스 하에 배포됩니다.
